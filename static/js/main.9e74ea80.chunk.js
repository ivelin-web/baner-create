(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[1],{105:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(17),s=n.n(a),i=n(10),u=n(110),o=n(5),l=n(21),j=n(1),b=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(6)]).then(n.bind(null,129))})),O=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,124))})),d=Object(r.lazy)((function(){return Promise.all([n.e(5),n.e(8)]).then(n.bind(null,125))})),h=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,127))}));function f(){var e=Object(r.useContext)(l.a).user;return Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/",children:e?Object(j.jsx)(b,{}):Object(j.jsx)(o.a,{to:"/login"})}),Object(j.jsx)(o.b,{exact:!0,path:"/create",children:e?Object(j.jsx)(O,{}):Object(j.jsx)(o.a,{to:"/login"})}),Object(j.jsx)(o.b,{exact:!0,path:"/login",children:e?Object(j.jsx)(o.a,{to:"/"}):Object(j.jsx)(d,{})}),Object(j.jsx)(o.b,{exact:!0,path:"/register",children:e?Object(j.jsx)(o.a,{to:"/"}):Object(j.jsx)(h,{})}),Object(j.jsx)(o.a,{to:e?"/":"/login"})]})}var p=n(112),x=n(108),S=n(111),E=n(109),g=n(19),v=n(13),R=n(32);function m(){var e=Object(r.useContext)(l.a),t=e.user,n=e.dispatch;return Object(j.jsx)("header",{className:"position-sticky top-0",style:{zIndex:999},children:Object(j.jsx)(p.a,{bg:"primary",variant:"dark",children:Object(j.jsxs)(x.a,{children:[Object(j.jsx)(g.b,{className:"nav-link text-white fs-5",to:t?"/":"/login",children:"Baner-Creator"}),Object(j.jsx)(S.a,{className:"ms-auto align-items-center",children:t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.c,{className:"nav-link",activeClassName:"active",exact:!0,to:"/",children:"Home"}),Object(j.jsx)(g.c,{className:"nav-link",activeClassName:"active",to:"/create",children:"Create Baner"}),Object(j.jsx)(E.a,{onClick:function(){R.a.logout().then((function(e){n(Object(v.e)())})).catch((function(e){console.log(e)}))},className:"nav-link",to:"/register",style:{background:"transparent",border:"none",boxShadow:"none"},children:"Logout"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.c,{className:"nav-link",activeClassName:"active",to:"/login",children:"Login"}),Object(j.jsx)(g.c,{className:"nav-link",activeClassName:"active",to:"/register",children:"Register"})]})})]})})})}var T=function(){var e=Object(r.useState)(!0),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useContext)(l.a).dispatch;return Object(r.useEffect)((function(){R.a.getAuthUser().then((function(e){a(Object(v.a)(e.data))})).catch((function(e){console.log(e)})).finally((function(){c(!1)}))}),[]),n?Object(j.jsx)("div",{className:"position-absolute start-50 top-50",style:{transform:"translate(-50%, -50%)"},children:Object(j.jsx)(u.a,{animation:"border",role:"status",variant:"primary",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{}),Object(j.jsx)("main",{children:Object(j.jsx)(f,{})})]})},I=n(34);n(104),n(105);s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(r.Suspense,{fallback:"",children:Object(j.jsx)(g.a,{children:Object(j.jsxs)(l.b,{children:[Object(j.jsx)(I.b,{position:"bottom-left",autoClose:3500,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,transition:I.a,theme:"dark"}),Object(j.jsx)(T,{})]})})})}),document.getElementById("root"))},13:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return j}));var r={GET_USER:"GET_USER",LOGOUT:"LOGOUT",LOGIN_START:"LOGIN_START",LOGIN_FAILED:"LOGIN_FAILED",LOGIN_SUCCESS:"LOGIN_SUCCESS",REGISTER_START:"REGISTER_START",REGISTER_FAILED:"REGISTER_FAILED",REGISTER_SUCCESS:"REGISTER_SUCCESS"},c=function(e){return{type:r.GET_USER,payload:e}},a=function(){return{type:r.LOGOUT}},s=function(){return{type:r.LOGIN_START}},i=function(e){return{type:r.LOGIN_SUCCESS,payload:e}},u=function(){return{type:r.LOGIN_FAILED}},o=function(){return{type:r.REGISTER_START}},l=function(){return{type:r.REGISTER_SUCCESS}},j=function(){return{type:r.REGISTER_FAILED}}},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return j}));var r=n(2),c=n(10),a=n(0),s=n(13),i=function(e,t){switch(t.type){case s.i.GET_USER:return Object(r.a)(Object(r.a)({},e),{},{user:t.payload});case s.i.LOGOUT:return Object(r.a)(Object(r.a)({},e),{},{user:null});case s.i.LOGIN_START:return{user:null,isFetching:!0};case s.i.LOGIN_SUCCESS:return{user:t.payload,isFetching:!1};case s.i.LOGIN_FAILED:return{user:null,isFetching:!1};case s.i.REGISTER_START:return{user:null,isFetching:!0};case s.i.REGISTER_SUCCESS:case s.i.REGISTER_FAILED:return{user:null,isFetching:!1};default:return e}},u=n(1),o={user:null,isFetching:!1},l=Object(a.createContext)(o),j=function(e){var t=e.children,n=Object(a.useReducer)(i,o),s=Object(c.a)(n,2),j=s[0],b=s[1];return Object(u.jsx)(l.Provider,{value:Object(r.a)(Object(r.a)({},j),{},{dispatch:b}),children:t})}},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(20),c=n.n(r),a=n(29),s=n(42),i=n(30),u=n.n(i),o=function e(){Object(s.a)(this,e)};o.login=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("/auth/login",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.register=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("/auth/register",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.logout=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("/auth/logout");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),o.getAuthUser=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/auth/user");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))}},[[106,2,3]]]);
//# sourceMappingURL=main.9e74ea80.chunk.js.map